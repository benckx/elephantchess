plugins {
    id "com.github.ben-manes.versions" version "0.52.0"
    id "org.jetbrains.kotlin.jvm" version "$kotlinVersion"
    id "com.adarshr.test-logger" version "4.0.0"
}

allprojects {
    apply plugin: 'kotlin'
    apply plugin: 'com.adarshr.test-logger'

    kotlin {
        jvmToolchain {
            languageVersion.set(JavaLanguageVersion.of("21"))
        }
    }

    repositories {
        google()
        mavenCentral()
        mavenLocal()
    }

    dependencies {
        implementation "io.github.oshai:kotlin-logging-jvm:7.0.4"
        implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
        implementation "org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.1"
        implementation "ch.qos.logback:logback-classic:1.5.16"
        testImplementation "org.jetbrains.kotlin:kotlin-test"
    }

    test {
        useJUnitPlatform()
        minHeapSize = '1G'
        maxHeapSize = '1G'
    }
}

project(":xiangqi-core") {
    dependencies {
        testImplementation project(":xiangqi-core-test-utils")
    }
}
